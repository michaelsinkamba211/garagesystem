<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Catalog</title>
    <!-- Bootstrap CSS (Ensure Bootstrap CSS is included) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <div class="container">
        <div class="row">
            <div class="col-12 col-md-4 col-lg-3 col-sm-6">
                <!-- Product Holder -->
                <div class="card mb-2 product_holder">
                    <!-- Product 1 -->
                    <div class="row g-0 products_contents" id="product_row_1">
                        <div class="col-md-12 prod_image p-0" id="product_image">
                            <img src="./productsimages/laptops/product1.png" alt="" class="img-fluid product_image_src" id="product_image_src_1">
                        </div>

                        <div class="col-md-12 product_desc">
                            <h5 class="card-title product_model">Dell Latitude E5540</h5>
                            <div class="card-body product_details">
                                <div class="card-text product_properties p-0">
                                    <p><strong>Processor:</strong> Intel Core i5-4310U</p>
                                    <p><strong>RAM:</strong> 8GB DDR3</p>
                                    <p><strong>Storage:</strong> 256GB SSD</p>
                                    <p><strong>Battery Life:</strong> Up to 6 hours</p>

                                    <div class="hidden_features d-none">
                                        <p><strong>Display:</strong> 15.6" HD</p>
                                        <p><strong>Graphics:</strong> Integrated Intel HD Graphics 4400</p>
                                        <p><strong>Operating System:</strong> Windows 10 Pro</p>
                                    </div>

                                    <button class="btn btn-primary mt-2 w-100 view_more_button" data-bs-toggle="modal" data-bs-target="#productModal">View More Properties</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Product 2 -->
                    <div class="row g-0 products_contents" id="product_row_2">
                        <div class="col-md-12 prod_image p-0" id="product_image">
                            <img src="./productsimages/laptops/product2.png" alt="" class="img-fluid product_image_src" id="product_image_src_2">
                        </div>

                        <div class="col-md-12 product_desc">
                            <h5 class="card-title product_model">Lenovo T440</h5>
                            <div class="card-body product_details">
                                <div class="card-text product_properties p-0">
                                    <p><strong>Processor:</strong> Intel Core i3-4310U</p>
                                    <p><strong>RAM:</strong> 16GB DDR3</p>
                                    <p><strong>Storage:</strong> 556GB SSD</p>
                                    <p><strong>Battery Life:</strong> Up to 10 hours</p>

                                    <div class="hidden_features d-none">
                                        <p><strong>Display:</strong> 13.6" HD</p>
                                        <p><strong>Graphics:</strong> Integrated Intel HD Graphics 13000</p>
                                        <p><strong>Operating System:</strong> Windows 11 Pro</p>
                                    </div>

                                    <button class="btn btn-primary mt-2 w-100 view_more_button" data-bs-toggle="modal" data-bs-target="#productModal">View More Properties</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Products (If any) -->

                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productModalLabel">Product Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Content will be filled dynamically -->
                    <div class="modal_product_image">
                        <img src="" alt="Product Image" class="img-fluid" id="modal_product_image">
                    </div>
                    <div id="modal_product_model" class="mt-3">
                        <!-- Model name will be dynamically inserted here -->
                    </div>
                    <div id="modal_product_details" class="mt-3">
                        <!-- Product details will be dynamically inserted here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" id="buy_button">Buy This Item</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS (Ensure Bootstrap is included) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <script>

document.querySelectorAll('.view_more_button').forEach(button => {
    button.addEventListener('click', function () {
        const productDesc = this.closest('.product_desc'); 
        const productDetails = productDesc.querySelector('.product_properties').cloneNode(true); // Clones

        // Fetch the moda name
        const productModel = productDesc.querySelector('.product_model').textContent;

        // getting image
        const productImageSrc = productDesc.closest('.products_contents').querySelector('.product_image_src').src;

        // display hidden fetures
        productDetails.querySelectorAll('.hidden_features').forEach(hidden => hidden.classList.remove('d-none'));

        // delete view more btn
        const viewMoreButton = productDetails.querySelector('.view_more_button');
        if (viewMoreButton) {
            viewMoreButton.remove();
        }

        // Insert prod details
        document.getElementById('productModalLabel').innerText = productModel; 
        document.getElementById('modal_product_image').src = productImageSrc;

        const modalBody = document.getElementById('modal_product_details');
        modalBody.innerHTML = ''; // clear forms
        modalBody.appendChild(productDetails); //then appending

        // adding buy btn to harms number
        const buyButton = document.getElementById('buy_button');
        buyButton.onclick = function () {
            const productDetailsText = `I want this item\n\nModel: ${productModel}\n` + Array.from(productDetails.querySelectorAll('p')).map(p => p.textContent).join('\n');
            const whatsappUrl = `https://wa.me/260974286888?text=${encodeURIComponent(productDetailsText)}`;
            window.open(whatsappUrl, '_blank');
        };
    });
});


    </script>

</body>
</html>





